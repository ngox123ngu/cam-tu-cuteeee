<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cam Tu Cute - Touch Interaction</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: #ffffff;
      height: 100%;
      overflow: hidden;
    }
    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100% !important;
      height: 100% !important;
      object-fit: contain;
    }
  </style>
</head>
<body>
  <script src="https://unpkg.com/live2d-widget@3.1.4/lib/L2Dwidget.min.js"></script>
  <script>
    L2Dwidget.init({
      model: {
        jsonPath: "https://unpkg.com/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"
      },
      display: {
        position: "right",
        width: window.innerWidth,
        height: window.innerHeight,
        hOffset: 0,
        vOffset: 0
      },
      mobile: { show: true },
      react: { opacityDefault: 1, opacityOnHover: 1 }
    });

    // Chờ widget tải xong, thêm touch/click event
    window.addEventListener('DOMContentLoaded', () => {
      document.addEventListener('touchstart', handleTap);
      document.addEventListener('click', handleTap);
    });

    function handleTap(event) {
      // Hiển thị popup dễ thương
      showMessage("Meow~ 😸", event.touches?.[0]?.clientX || event.clientX, event.touches?.[0]?.clientY || event.clientY);
    }

    function showMessage(text, x, y) {
      const msg = document.createElement('div');
      msg.innerText = text;
      msg.style.position = 'absolute';
      msg.style.left = `${x}px`;
      msg.style.top = `${y}px`;
      msg.style.background = '#ff69b4';
      msg.style.color = '#fff';
      msg.style.padding = '5px 10px';
      msg.style.borderRadius = '10px';
      msg.style.fontSize = '16px';
      msg.style.fontFamily = 'sans-serif';
      msg.style.transform = 'translate(-50%, -50%)';
      msg.style.pointerEvents = 'none';
      msg.style.opacity = '1';
      msg.style.transition = 'all 1s ease-out';
      document.body.appendChild(msg);

      setTimeout(() => {
        msg.style.top = `${y - 80}px`;
        msg.style.opacity = '0';
      }, 100);

      setTimeout(() => {
        document.body.removeChild(msg);
      }, 1500);
    }
  </script>
</body>
</html>
